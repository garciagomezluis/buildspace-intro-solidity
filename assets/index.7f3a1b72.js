import{W as te,C as Y,r as a,u as ne,j as e,a as oe,b as c,M as ae,c as re,d as se,e as ie,f as ce,g as F,A as W,h as B,i as le,B as R,F as X,V as y,S as V,k as de,l as ue,m as M,I as he,n as j,o as I,p as P,H as z,L as H,q as v,s as pe,t as fe,T as g,v as ge,R as me,w as we,x as xe,y as Ae}from"./vendor.44987619.js";const ye=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}};ye();var ve="data:image/png;base64,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",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAABv0lEQVRoge2aPU4CQRTH/28XRCJioUQbMPEIKJiYkCjxBFZ6CmsvYKdUnkErTwBSaCWeARJsNMQC/IiIy7MwIWrMLJCZzTK8X/s+8n6Z2dkpBhAEQZggaJik6vr8Erk4YvT3AEoDcAFge2vT6HBD4AG4B3CJHo7prPLkV+ArXM4trEXIqzKQ+RsLgfBPmiDaoVK5rkpyVEEGyKX+xX+yISQD5nP2WUSl8FUuUQA4p3cuo+RxWCyoEpTCjsN5vfMEANGGKqwUBlNC6zCBQElVVC1sIVMnHDHRtNd9B/c9E60HRGJxOM7o62VEuNN6xMfbq4nWAxbTq5iJz41cN3VbWoRtx8g3HI3FTLT9BTnuWHVGhJOpFRNttSBbWged1gN63a6J1gOSqWVEY7Mj1xm6eHSN/4fHvdjIoaUDObRChAjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjs87LX4OaA59ENqqsFK4D6rpnSYI+E4VVQoXay/XmCzpW5QqN6oEpTAB7LGzT0BT71xGaILogABWJfkeWru1dv0TlCXQKcANfD/KDgseCA0wTtBD1u+ttCAIwsTxBUjRXzMnTybHAAAAAElFTkSuQmCC",be="/buildspace-intro-solidity/assets/wallet.b137a78b.png";const q=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"string",name:"message",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"NewWave",type:"event"},{inputs:[],name:"getTotalWaves",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWaves",outputs:[{components:[{internalType:"address",name:"waver",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct WavePortal.Wave[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_message",type:"string"}],name:"wave",outputs:[],stateMutability:"nonpayable",type:"function"}],ke=4,U="0x7647cA26cEd7450b7d01007f7F8607C81394cB6D",Se=async r=>{const o={};for(let i=0;i<r.length;i++){const s=i%ke;o[s]=o[s]||[],o[s].push(r[i])}return o},Te=()=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");return new te(window.ethereum,"any")},Me=async r=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const[o]=await r.send("eth_accounts",[]);return o},Ee=async r=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const[o]=await r.send("eth_requestAccounts",[]);if(!o)throw new Error("No authorized account found")},We=async r=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const o=r.getSigner(),s=await new Y(U,q,o).getWaves();return Se(s.map(t=>({id:Math.random().toString().substring(2),address:t.waver,date:new Date(t.timestamp*1e3),message:t.message})))},Be=async(r,o)=>{if(o=o.trim(),o.length===0)throw new Error("Empty values not allowed");if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const i=r.getSigner(),t=await new Y(U,q,i).wave(o);console.log("Mining...",t.hash),await t.wait(),console.log("Mined -- ",t.hash)},O=a.exports.createContext({connect:()=>{},connected:!1,account:"",network:"",networkError:!1,get:async()=>({}),set:async()=>{}}),Re=({children:r})=>{const o=a.exports.useRef(Te()),[i,s]=a.exports.useState(!1),[t,n]=a.exports.useState(""),[d,u]=a.exports.useState(""),[p,h]=a.exports.useState(!1),m=ne(),w=()=>We(o.current),C=l=>Be(o.current,l),f=l=>{m({title:"Error",description:l,status:"error",duration:5e3,position:"bottom-right"})};a.exports.useEffect(()=>{s(t!==""&&d!=="")},[t,d]),a.exports.useEffect(()=>{t===""&&u(""),A()},[t]),a.exports.useEffect(()=>{d!=="rinkeby"&&d!==""?(h(!0),f("Please, switch to Rinkeby network.")):h(!1)},[d]),a.exports.useEffect(()=>{(async()=>{const l=await Me(o.current);l&&n(l)})(),window.ethereum.on("accountsChanged",async l=>{console.log("accounts changed",l);const[x]=l;try{if(!x)throw new Error("Connection lost: Need an account to continue.");n(x)}catch(k){f(k.message),n("")}}),o.current.on("network",async(l,x)=>{if(x&&(l==null?void 0:l.name)==="rinkeby"){window.location.reload();return}A()})},[]);const b=async()=>{if(!i)try{await Ee(o.current)}catch(l){f(l.message)}},A=async()=>{try{u((await o.current.getNetwork()).name)}catch(l){f(l.message)}};return e(O.Provider,{value:{connect:b,connected:i,account:t,network:d,networkError:p,get:w,set:C},children:r})},Z=a.exports.createContext({onOpenModal:()=>{},onCloseModal:()=>{},unlockModal:()=>{},lockModal:()=>{},showInfo:()=>{}}),J=a.exports.createContext({isLocked:!1,titleText:"",bodyText:"",actionText:"",infoText:"",infoType:"info",onAction:()=>{},isOpen:!1,onClose:()=>{}}),Pe=({children:r})=>{const{isOpen:o,onOpen:i,onClose:s}=oe(),[t,n]=a.exports.useState(!1),[d,u]=a.exports.useState(""),[p,h]=a.exports.useState(""),[m,w]=a.exports.useState(""),[C,f]=a.exports.useState(""),[b,A]=a.exports.useState("info"),[l,x]=a.exports.useState(()=>()=>{}),k=()=>{n(!0)},E=()=>{n(!1)},L=(T,D="info")=>{f(T),A(D)},N=({isLocked:T=!1,titleText:D,bodyText:G,actionText:K,infoText:$="",infoType:_="info",onAction:ee})=>{n(T),u(D),h(G),w(K),f($),A(_),x(()=>ee),i()},S=s;return e(Z.Provider,{value:{onOpenModal:N,onCloseModal:S,lockModal:k,unlockModal:E,showInfo:L},children:e(J.Provider,{value:{isLocked:t,titleText:d,bodyText:p,actionText:m,infoText:C,infoType:b,onAction:l,isOpen:o,onClose:s},children:r})})},Oe=()=>{const{isLocked:r,titleText:o,bodyText:i,actionText:s,infoText:t,infoType:n,onAction:d,isOpen:u,onClose:p}=a.exports.useContext(J),h=a.exports.useRef(null);return c(ae,{closeOnOverlayClick:!r,initialFocusRef:h,isOpen:u,onClose:p,children:[e(re,{}),c(se,{children:[e(ie,{children:o}),e(ce,{disabled:r}),e(F,{children:i}),t!==""&&c(W,{my:"5",status:n,children:[e(B,{}),t]}),t!==""&&n==="error"&&e(F,{children:"Retry?"}),c(le,{children:[e(R,{colorScheme:"blue",disabled:r,mr:3,onClick:p,children:"Close"}),e(R,{ref:h,isLoading:r,variant:"solid",onClick:d,children:s})]})]})]})},Le=({onSuccess:r,inputRef:o})=>{const{set:i}=a.exports.useContext(O),s=120,t=75,[n,d]=a.exports.useState(""),[u,p]=a.exports.useState(!1),[h,m]=a.exports.useState(!1),[w,C]=a.exports.useState(!1),[f,b]=a.exports.useState(!1),{onOpenModal:A,onCloseModal:l,lockModal:x,unlockModal:k,showInfo:E}=a.exports.useContext(Z);a.exports.useEffect(()=>{p(n.trim()===""&&n.length>0),m(t<=n.trim().length&&n.trim().length<=s),C(n.trim().length>s)},[n]),a.exports.useEffect(()=>{b(u||w||n.trim().length===0)},[u,w,n]);async function L(){console.log(`sending... ${n}`),x(),E("Your wallet will popup. Please, confirm the transaction and do not reload the page.","info");try{await i(n),d(""),l(),r(),console.log("sent")}catch(S){const T=S.message;E(T,"error"),k()}}function N(){d(n.trim()),A({isLocked:!1,titleText:"Wave at me",bodyText:`You will have to afford the gas cost to send this wave "${n}". Are you sure?`,actionText:"Let's go!",onAction:L})}return c(y,{align:"flex-end",w:"full",children:[e(he,{ref:o,isInvalid:u||w,placeholder:"Show me some love!",type:"text",value:n,onChange:S=>d(S.target.value)}),u&&c(W,{status:"error",children:[e(B,{}),e(j,{mr:2,children:"You cannot send no waves!"}),e(I,{children:"Be creative!"})]}),h&&c(W,{status:"warning",children:[e(B,{}),e(j,{mr:2,children:"Reaching limit of characters!"}),c(I,{children:["You are allowed to write ",s-n.length," characters more."]})]}),w&&c(W,{status:"error",children:[e(B,{}),e(j,{mr:2,children:"Reached limit of characters!"}),c(I,{children:["You are allowed to write ",s-n.length," characters more."]})]}),e(R,{disabled:f,onClick:N,children:"Wave at me!"})]})},Ne=({message:r})=>e(M,{bg:"linear-gradient(350deg, #22c1c3, #fd2df5);",mt:"2",p:"5",children:r}),De=()=>{const[r,o]=a.exports.useState({}),[i,s]=a.exports.useState(!0),{connected:t,networkError:n,get:d}=a.exports.useContext(O),u=a.exports.useRef(null),p=async()=>{var h;t&&o(await d()),(h=u.current)==null||h.focus()};return a.exports.useEffect(()=>{(async()=>{s(!0),await p(),s(!1)})()},[t]),!t||n?null:c(X,{children:[e(y,{bg:"blue.800",m:"0 auto",maxW:"4xl",mb:"5",p:"5",rounded:"sm",w:"full",children:e(Le,{inputRef:u,onSuccess:p})}),c(V,{className:"collage",direction:"row",wrap:"wrap",children:[i&&e(de,{h:"36",w:"full",children:e(ue,{size:"xl"})}),!i&&Object.entries(r).map(([,h])=>e(M,{flex:{base:"100%",md:"1"},children:h.map(m=>e(Ne,{message:m.message},m.id))},Math.random().toString().substring(2)))]})]})},Ve=()=>{const{connect:r,account:o,network:i,connected:s,networkError:t}=a.exports.useContext(O);return c(X,{children:[e(M,{children:e(P,{maxW:"container.xl",children:c(z,{h:"10",my:"6",children:[e(z,{align:"center",children:e(H,{alt:"buildspace",href:"https://buildspace.so",children:e(v,{alt:"logo",h:"40px",src:"https://api.typedream.com/v0/document/public/f71c1437-09d6-45e9-a6e8-3f18592cc3ef_image-removebg-preview_1_png.png",title:"Buildspace"})})}),e(pe,{}),i&&o&&e(fe,{colorScheme:t?"red":"green",me:"20px !important",variant:"outline",children:i}),o&&e(H,{alt:"profilepic",href:`https://etherscan.io/address/${o}`,title:"View on Etherscan",children:e(v,{src:`https://www.gravatar.com/avatar/${o}?s=40&d=retro`})}),!s&&e(R,{onClick:r,children:"Connect a wallet"})]})})}),e(M,{bg:"blue.800",mb:"10",py:"20",children:e(P,{maxW:"container.xl",children:c(V,{direction:{base:"column",md:"row"},justify:"space-between",children:[c(y,{align:"flex-start",maxW:{md:"50%"},children:[e(g,{fontSize:"5xl",fontWeight:700,w:"full",children:"SendMe a Wave!"}),e(g,{bg:"linear-gradient(350deg, #22c1c3, #fd2df5);",bgClip:"text",fontSize:"3xl",fontWeight:700,letterSpacing:"1px",w:"full",children:"buildspace #0"}),e(g,{fontSize:"20",w:"full",children:"Feel free to send me a nice message, which will be stored on the Ethereum blockchain (Rinkeby network) for everyone to see in the future."})]}),e(v,{alt:"buildspace nft",src:"https://tokens.buildspace.so/assets/CHf7d3f8a8-5ac3-4676-8fe4-220e8a755104-547/render.png",title:"buildspace nft",w:"300px"})]})})}),!s&&e(M,{py:"20",children:e(P,{maxW:"container.xl",children:c(V,{direction:{base:"column",md:"row"},justify:"space-around",children:[c(y,{children:[e(v,{alt:"wallet",blockSize:"100px",src:be,title:"MetaMask"}),e(g,{fontSize:"20",fontWeight:500,children:"Connect your wallet"}),e(g,{children:"And start to participate"})]}),c(y,{children:[e(v,{alt:"airplane",blockSize:"100px",src:ve,title:"airdrop"}),e(g,{fontSize:"20",fontWeight:500,children:"Write"}),e(g,{children:"Be elegible for an gift in ETH"})]}),c(y,{children:[e(v,{alt:"read",blockSize:"100px",src:Ce,title:"read"}),e(g,{fontSize:"20",fontWeight:500,children:"Read"}),e(g,{children:"Do not stop reading over the book!"})]})]})})}),e(P,{maxW:"container.xl",children:e(De,{})})]})},je={initialColorMode:"dark",useSystemColorMode:!1},Q=ge({config:je});me.render(c(we.StrictMode,{children:[e(xe,{initialColorMode:Q.config.initialColorMode}),e(Ae,{theme:Q,children:e(Re,{children:c(Pe,{children:[e(Oe,{}),e(Ve,{})]})})})]}),document.getElementById("root"));
