import{W as oe,C as F,r as a,u as ne,j as e,a as ae,b as l,M as re,c as se,d as ie,e as ce,f as le,g as X,A as W,h as B,i as de,B as R,F as z,V as C,S as j,k as ue,l as he,m as M,I as pe,n as I,o as Y,p as P,H,L as q,q as b,s as fe,t as ge,T as f,v as me,R as we,w as xe,x as Ae,y as ye}from"./vendor.44987619.js";const ve=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};ve();var Ce="data:image/png;base64,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",be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAABv0lEQVRoge2aPU4CQRTH/28XRCJioUQbMPEIKJiYkCjxBFZ6CmsvYKdUnkErTwBSaCWeARJsNMQC/IiIy7MwIWrMLJCZzTK8X/s+8n6Z2dkpBhAEQZggaJik6vr8Erk4YvT3AEoDcAFge2vT6HBD4AG4B3CJHo7prPLkV+ArXM4trEXIqzKQ+RsLgfBPmiDaoVK5rkpyVEEGyKX+xX+yISQD5nP2WUSl8FUuUQA4p3cuo+RxWCyoEpTCjsN5vfMEANGGKqwUBlNC6zCBQElVVC1sIVMnHDHRtNd9B/c9E60HRGJxOM7o62VEuNN6xMfbq4nWAxbTq5iJz41cN3VbWoRtx8g3HI3FTLT9BTnuWHVGhJOpFRNttSBbWged1gN63a6J1gOSqWVEY7Mj1xm6eHSN/4fHvdjIoaUDObRChAjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjgjbjs87LX4OaA59ENqqsFK4D6rpnSYI+E4VVQoXay/XmCzpW5QqN6oEpTAB7LGzT0BT71xGaILogABWJfkeWru1dv0TlCXQKcANfD/KDgseCA0wTtBD1u+ttCAIwsTxBUjRXzMnTybHAAAAAElFTkSuQmCC",ke="/buildspace-intro-solidity/assets/wallet.b137a78b.png";const U=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"string",name:"message",type:"string"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"NewWave",type:"event"},{inputs:[],name:"getTotalWaves",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWaves",outputs:[{components:[{internalType:"address",name:"waver",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct WavePortal.Wave[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_message",type:"string"}],name:"wave",outputs:[],stateMutability:"nonpayable",type:"function"}],Se=4,Z="0x7647cA26cEd7450b7d01007f7F8607C81394cB6D",Te=async s=>{const n={};for(let i=0;i<s.length;i++){const r=i%Se;n[r]=n[r]||[],n[r].push(s[i])}return n},Me=()=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");return new oe(window.ethereum,"any")},Ee=async s=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const[n]=await s.send("eth_accounts",[]);return n},We=async s=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const[n]=await s.send("eth_requestAccounts",[]);if(!n)throw new Error("No authorized account found")},Be=async s=>{if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const n=s.getSigner(),r=await new F(Z,U,n).getWaves();return Te(r.map(o=>({id:Math.random().toString().substring(2),address:o.waver,date:new Date(o.timestamp*1e3),message:o.message})))},Re=async(s,n)=>{if(n=n.trim(),n.length===0)throw new Error("Empty values not allowed");if(!window.ethereum)throw new Error("Make sure you have a wallet installed!");const i=s.getSigner(),o=await new F(Z,U,i).wave(n);console.log("Mining...",o.hash),await o.wait(),console.log("Mined -- ",o.hash)},O=a.exports.createContext({connect:()=>{},connected:!1,account:"",network:"",networkError:!1,get:async()=>({}),set:async()=>{}});let A=null;const Pe=({children:s})=>{const[n,i]=a.exports.useState(!1),[r,o]=a.exports.useState(""),[t,d]=a.exports.useState(""),[u,p]=a.exports.useState(!1),h=ne(),g=()=>Be(A),m=c=>Re(A,c),w=c=>{h({title:"Error",description:c,status:"error",duration:5e3,position:"bottom-right"})};a.exports.useEffect(()=>{i(r!==""&&t!=="")},[r,t]),a.exports.useEffect(()=>{r===""&&d(""),v()},[r]),a.exports.useEffect(()=>{t!=="rinkeby"&&t!==""?(p(!0),w("Please, switch to Rinkeby network.")):p(!1)},[t]),a.exports.useEffect(()=>{!window.ethereum||(A=Me(),(async()=>{const c=await Ee(A);c&&o(c)})(),window.ethereum.on("accountsChanged",async c=>{console.log("accounts changed",c);const[x]=c;try{if(!x)throw new Error("Connection lost: Need an account to continue.");o(x)}catch(k){w(k.message),o("")}}),A.on("network",async(c,x)=>{if(x&&(c==null?void 0:c.name)==="rinkeby"){window.location.reload();return}v()}))},[]);const y=async()=>{if(!n)try{await We(A)}catch(c){w(c.message)}},v=async()=>{if(!!A)try{d((await A.getNetwork()).name)}catch(c){w(c.message)}};return e(O.Provider,{value:{connect:y,connected:n,account:r,network:t,networkError:u,get:g,set:m},children:s})},J=a.exports.createContext({onOpenModal:()=>{},onCloseModal:()=>{},unlockModal:()=>{},lockModal:()=>{},showInfo:()=>{}}),Q=a.exports.createContext({isLocked:!1,titleText:"",bodyText:"",actionText:"",infoText:"",infoType:"info",onAction:()=>{},isOpen:!1,onClose:()=>{}}),Oe=({children:s})=>{const{isOpen:n,onOpen:i,onClose:r}=ae(),[o,t]=a.exports.useState(!1),[d,u]=a.exports.useState(""),[p,h]=a.exports.useState(""),[g,m]=a.exports.useState(""),[w,y]=a.exports.useState(""),[v,c]=a.exports.useState("info"),[x,k]=a.exports.useState(()=>()=>{}),L=()=>{t(!0)},E=()=>{t(!1)},N=(T,V="info")=>{y(T),c(V)},D=({isLocked:T=!1,titleText:V,bodyText:K,actionText:$,infoText:_="",infoType:ee="info",onAction:te})=>{t(T),u(V),h(K),m($),y(_),c(ee),k(()=>te),i()},S=r;return e(J.Provider,{value:{onOpenModal:D,onCloseModal:S,lockModal:L,unlockModal:E,showInfo:N},children:e(Q.Provider,{value:{isLocked:o,titleText:d,bodyText:p,actionText:g,infoText:w,infoType:v,onAction:x,isOpen:n,onClose:r},children:s})})},Le=()=>{const{isLocked:s,titleText:n,bodyText:i,actionText:r,infoText:o,infoType:t,onAction:d,isOpen:u,onClose:p}=a.exports.useContext(Q),h=a.exports.useRef(null);return l(re,{closeOnOverlayClick:!s,initialFocusRef:h,isOpen:u,onClose:p,children:[e(se,{}),l(ie,{children:[e(ce,{children:n}),e(le,{disabled:s}),e(X,{children:i}),o!==""&&l(W,{my:"5",status:t,children:[e(B,{}),o]}),o!==""&&t==="error"&&e(X,{children:"Retry?"}),l(de,{children:[e(R,{colorScheme:"blue",disabled:s,mr:3,onClick:p,children:"Close"}),e(R,{ref:h,isLoading:s,variant:"solid",onClick:d,children:r})]})]})]})},Ne=({onSuccess:s,inputRef:n})=>{const{set:i}=a.exports.useContext(O),r=120,o=75,[t,d]=a.exports.useState(""),[u,p]=a.exports.useState(!1),[h,g]=a.exports.useState(!1),[m,w]=a.exports.useState(!1),[y,v]=a.exports.useState(!1),{onOpenModal:c,onCloseModal:x,lockModal:k,unlockModal:L,showInfo:E}=a.exports.useContext(J);a.exports.useEffect(()=>{p(t.trim()===""&&t.length>0),g(o<=t.trim().length&&t.trim().length<=r),w(t.trim().length>r)},[t]),a.exports.useEffect(()=>{v(u||m||t.trim().length===0)},[u,m,t]);async function N(){console.log(`sending... ${t}`),k(),E("Your wallet will popup. Please, confirm the transaction and do not reload the page.","info");try{await i(t),d(""),x(),s(),console.log("sent")}catch(S){const T=S.message;E(T,"error"),L()}}function D(){d(t.trim()),c({isLocked:!1,titleText:"Wave at me",bodyText:`You will have to afford the gas cost to send this wave "${t}". Are you sure?`,actionText:"Let's go!",onAction:N})}return l(C,{align:"flex-end",w:"full",children:[e(pe,{ref:n,isInvalid:u||m,placeholder:"Show me some love!",type:"text",value:t,onChange:S=>d(S.target.value)}),u&&l(W,{status:"error",children:[e(B,{}),e(I,{mr:2,children:"You cannot send no waves!"}),e(Y,{children:"Be creative!"})]}),h&&l(W,{status:"warning",children:[e(B,{}),e(I,{mr:2,children:"Reaching limit of characters!"}),l(Y,{children:["You are allowed to write ",r-t.length," characters more."]})]}),m&&l(W,{status:"error",children:[e(B,{}),e(I,{mr:2,children:"Reached limit of characters!"}),l(Y,{children:["You are allowed to write ",r-t.length," characters more."]})]}),e(R,{disabled:y,onClick:D,children:"Wave at me!"})]})},De=({message:s})=>e(M,{bg:"linear-gradient(350deg, #22c1c3, #fd2df5);",mt:"2",p:"5",children:s}),Ve=()=>{const[s,n]=a.exports.useState({}),[i,r]=a.exports.useState(!0),{connected:o,networkError:t,get:d}=a.exports.useContext(O),u=a.exports.useRef(null),p=async()=>{var h;o&&n(await d()),(h=u.current)==null||h.focus()};return a.exports.useEffect(()=>{(async()=>{r(!0),await p(),r(!1)})()},[o]),!o||t?null:l(z,{children:[e(C,{bg:"blue.800",m:"0 auto",maxW:"4xl",mb:"5",p:"5",rounded:"sm",w:"full",children:e(Ne,{inputRef:u,onSuccess:p})}),l(j,{className:"collage",direction:"row",wrap:"wrap",children:[i&&e(ue,{h:"36",w:"full",children:e(he,{size:"xl"})}),!i&&Object.entries(s).map(([,h])=>e(M,{flex:{base:"100%",md:"1"},children:h.map(g=>e(De,{message:g.message},g.id))},Math.random().toString().substring(2)))]})]})},je=()=>{const{connect:s,account:n,network:i,connected:r,networkError:o}=a.exports.useContext(O);return l(z,{children:[e(M,{children:e(P,{maxW:"container.xl",children:l(H,{h:"10",my:"6",children:[e(H,{align:"center",children:e(q,{alt:"buildspace",href:"https://buildspace.so",children:e(b,{alt:"logo",h:"40px",src:"https://api.typedream.com/v0/document/public/f71c1437-09d6-45e9-a6e8-3f18592cc3ef_image-removebg-preview_1_png.png",title:"Buildspace"})})}),e(fe,{}),i&&n&&e(ge,{colorScheme:o?"red":"green",me:"20px !important",variant:"outline",children:i}),n&&e(q,{alt:"profilepic",href:`https://etherscan.io/address/${n}`,title:"View on Etherscan",children:e(b,{src:`https://www.gravatar.com/avatar/${n}?s=40&d=retro`})}),!r&&e(R,{onClick:s,children:"Connect a wallet"})]})})}),e(M,{bg:"blue.800",mb:"10",py:"20",children:e(P,{maxW:"container.xl",children:l(j,{direction:{base:"column",md:"row"},justify:"space-between",children:[l(C,{align:"flex-start",maxW:{md:"50%"},children:[e(f,{fontSize:"5xl",fontWeight:700,w:"full",children:"SendMe a Wave!"}),e(f,{bg:"linear-gradient(350deg, #22c1c3, #fd2df5);",bgClip:"text",fontSize:"3xl",fontWeight:700,letterSpacing:"1px",w:"full",children:"buildspace #0"}),e(f,{fontSize:"20",w:"full",children:"Feel free to send me a nice message, which will be stored on the Ethereum blockchain (Rinkeby network) for everyone to see in the future."})]}),e(b,{alt:"buildspace nft",src:"https://tokens.buildspace.so/assets/CHf7d3f8a8-5ac3-4676-8fe4-220e8a755104-547/render.png",title:"buildspace nft",w:"300px"})]})})}),!r&&e(M,{py:"20",children:e(P,{maxW:"container.xl",children:l(j,{direction:{base:"column",md:"row"},justify:"space-around",children:[l(C,{children:[e(b,{alt:"wallet",blockSize:"100px",src:ke,title:"MetaMask"}),e(f,{fontSize:"20",fontWeight:500,children:"Connect your wallet"}),e(f,{children:"And start to participate"})]}),l(C,{children:[e(b,{alt:"airplane",blockSize:"100px",src:Ce,title:"airdrop"}),e(f,{fontSize:"20",fontWeight:500,children:"Write"}),e(f,{children:"Be elegible for an gift in ETH"})]}),l(C,{children:[e(b,{alt:"read",blockSize:"100px",src:be,title:"read"}),e(f,{fontSize:"20",fontWeight:500,children:"Read"}),e(f,{children:"Do not stop reading over the book!"})]})]})})}),e(P,{maxW:"container.xl",children:e(Ve,{})})]})},Ie={initialColorMode:"dark",useSystemColorMode:!1},G=me({config:Ie});we.render(l(xe.StrictMode,{children:[e(Ae,{initialColorMode:G.config.initialColorMode}),e(ye,{theme:G,children:e(Pe,{children:l(Oe,{children:[e(Le,{}),e(je,{})]})})})]}),document.getElementById("root"));
